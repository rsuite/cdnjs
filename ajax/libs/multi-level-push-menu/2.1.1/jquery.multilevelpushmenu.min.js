(function(a){a.fn.multilevelpushmenu=function(c){var b=arguments;returnValue=null;this.each(function(){var M=this,o=a(this),k=(o.context!=undefined)?o:a("body"),T=(c&&c.menu!=undefined)?c.menu:o.find("nav"),I,f;var R=a.extend({container:k,containersToPush:null,menuID:((k.prop("id")!=undefined&&k.prop("id")!="")?k.prop("id"):this.nodeName.toLowerCase())+"_multilevelpushmenu",wrapperClass:"multilevelpushmenu_wrapper",menuInactiveClass:"multilevelpushmenu_inactive",menu:T,menuWidth:0,menuHeight:0,collapsed:false,fullCollapse:false,direction:"ltr",backText:"Back",backItemClass:"backItemClass",backItemIcon:"fa fa-angle-right",groupIcon:"fa fa-angle-left",mode:"overlap",overlapWidth:40,preventItemClick:true,preventGroupItemClick:true,swipe:"both",onCollapseMenuStart:function(){},onCollapseMenuEnd:function(){},onExpandMenuStart:function(){},onExpandMenuEnd:function(){},onGroupItemClick:function(){},onItemClick:function(){},onTitleItemClick:function(){},onBackItemClick:function(){},onMenuReady:function(){}},c);if(!a.data(M,"plugin_multilevelpushmenu")){a.data(M,"plugin_multilevelpushmenu",R);M.settings=a.data(M,"plugin_multilevelpushmenu")}var E={init:function(){return i.apply(this,Array.prototype.slice.call(arguments))},collapse:function(){return C.apply(this,Array.prototype.slice.call(arguments))},expand:function(){return r.apply(this,Array.prototype.slice.call(arguments))},menuexpanded:function(){return g.apply(this,Array.prototype.slice.call(arguments))},activemenu:function(){return H.apply(this,Array.prototype.slice.call(arguments))},findmenusbytitle:function(){return N.apply(this,Array.prototype.slice.call(arguments))},finditemsbyname:function(){return O.apply(this,Array.prototype.slice.call(arguments))},pathtoroot:function(){return p.apply(this,Array.prototype.slice.call(arguments))},comparepaths:function(){return y.apply(this,Array.prototype.slice.call(arguments))},option:function(){return e.apply(this,Array.prototype.slice.call(arguments))},additems:function(){return D.apply(this,Array.prototype.slice.call(arguments))},removeitems:function(){return w.apply(this,Array.prototype.slice.call(arguments))},redraw:function(){return P.apply(this,Array.prototype.slice.call(arguments))},visiblemenus:function(){return h.apply(this,Array.prototype.slice.call(arguments))},hiddenmenus:function(){return m.apply(this,Array.prototype.slice.call(arguments))}};function t(V){if(V.stopPropagation&&V.preventDefault){V.stopPropagation();V.preventDefault()}else{V.cancelBubble=true;V.returnValue=false}}function U(){var V=a("<nav />").prop({id:M.settings.menuID,className:M.settings.wrapperClass}).appendTo(M.settings.container);d(M.settings.menu,V)}function d(W,V){if(W.level==undefined){W.level=0}a.each(W,function(){var ab=a("<div />").attr({"class":"levelHolderClass"+((M.settings.direction=="rtl")?" rtl":" ltr"),"data-level":W.level,style:((M.settings.direction=="rtl")?"margin-right: ":"margin-left: ")+((W.level==0&&!M.settings.collapsed)?0:"-200%")}).appendTo(V),X=(z(M.settings.menuWidth)||(Q(M.settings.menuWidth)&&M.settings.menuWidth>0));ab.bind(f,function(ac){L(ac,ab)});var Z=a("<h2 />").attr({style:"text-align: "+((M.settings.direction=="rtl")?"right":"left")}).text(this.title).appendTo(ab),Y=a("<i />").prop({"class":((M.settings.direction=="rtl")?"floatLeft":"floatRight")+" cursorPointer "+this.icon}).prependTo(Z);Y.bind(I,function(ac){j(ac,ab,W)});if(W.level>0){F(ab)}var aa=a("<ul />").appendTo(ab);a.each(this.items,function(){S(this,ab,-1)})})}function s(){var V=(M.settings.container.find("nav").length>0)?M.settings.container.find("nav"):M.settings.menu;if(V.length==0){return false}V.prop({id:M.settings.menuID,className:M.settings.wrapperClass});q(V)}function q(V){if(V.level==undefined){V.level=0}a.each(V,function(){var aa=a("<div />").attr({"class":"levelHolderClass"+((M.settings.direction=="rtl")?" rtl":" ltr"),"data-level":V.level,style:((M.settings.direction=="rtl")?"margin-right: ":"margin-left: ")+((V.level==0&&!M.settings.collapsed)?0:"-200%")}).appendTo(V),W=(z(M.settings.menuWidth)||(Q(M.settings.menuWidth)&&M.settings.menuWidth>0));aa.bind(f,function(ab){L(ab,aa)});var Y=V.children("h2");Y.attr({style:"text-align: "+((M.settings.direction=="rtl")?"right":"left")});Y.appendTo(aa);var X=Y.children("i");X.addClass(((M.settings.direction=="rtl")?"floatLeft":"floatRight")+" cursorPointer");X.bind(I,function(ab){j(ab,aa,V)});if(V.level>0){F(aa)}var Z=V.children("ul");Z.appendTo(aa);a.each(Z.children("li"),function(){var ac=a(this);ac.attr({style:"text-align: "+((M.settings.direction=="rtl")?"right":"left")});var ab=ac.children("a");var ad=ab.children("i");ad.addClass(((M.settings.direction=="rtl")?"floatLeft":"floatRight"));if(ac.children("ul").length>0){ab.bind(I,function(ae){K(ae,aa,ac)});l(ab);ac.level=V.level+1;q(ac)}else{ab.bind(I,function(ae){v(ae,aa,ac)})}})})}function j(aa,Z,Y){if(a(M).find("div.levelHolderClass").is(":animated")){return false}M.settings.onTitleItemClick.apply(this,Array.prototype.slice.call([aa,Z,M.settings]));t(aa);var W=(M.settings.direction=="rtl")?parseInt(Z.css("margin-right"))<0:parseInt(Z.css("margin-left"))<0;if(Y.level==0&&W){r()}else{var ab=M.settings.container.find("#"+M.settings.menuID+" div.levelHolderClass").filter(function(){var ac=(M.settings.direction=="rtl")?((a(this).attr("data-level")>Z.attr("data-level"))&&(parseInt(a(this).css("margin-right"))>=0)):((a(this).attr("data-level")>Z.attr("data-level"))&&(parseInt(a(this).css("margin-left"))>=0));return ac}),X=M.settings.container.find("#"+M.settings.menuID+" div.levelHolderClass").filter(function(){var ac=(M.settings.direction=="rtl")?((a(this).attr("data-level")<=Z.attr("data-level"))&&(parseInt(a(this).css("margin-right"))>=0)):((a(this).attr("data-level")<=Z.attr("data-level"))&&(parseInt(a(this).css("margin-left"))>=0));return ac}),V=(ab.length==0&&X.length==1)?C():C(parseInt(Z.attr("data-level")))}Z.css("visibility","visible");Z.find("."+M.settings.backItemClass).css("visibility","visible");Z.find("ul").css("visibility","visible");Z.removeClass(M.settings.menuInactiveClass)}function F(Y){var V=a("<div />").attr({"class":M.settings.backItemClass}).appendTo(Y),W=a("<a />").prop({href:"#"}).text(M.settings.backText).appendTo(V),X=a("<i />").prop({"class":((M.settings.direction=="rtl")?"floatLeft ":"floatRight ")+M.settings.backItemIcon}).prependTo(W);W.bind(I,function(Z){J(Z,Y)})}function J(W,V){if(a(M).find("div.levelHolderClass").is(":animated")){return false}M.settings.onBackItemClick.apply(this,Array.prototype.slice.call([W,V,M.settings]));t(W);C(parseInt(V.attr("data-level")-1))}function K(X,W,V){if(a(M).find("div.levelHolderClass").is(":animated")){return false}M.settings.onGroupItemClick.apply(this,Array.prototype.slice.call([X,W,V,M.settings]));r(V.find("div:first"));if(M.settings.preventGroupItemClick){t(X)}}function l(V){var W=a("<i />").attr({"class":((M.settings.direction=="rtl")?" floatRight iconSpacing_rtl ":" floatLeft iconSpacing_ltr ")+M.settings.groupIcon}).prependTo(V)}function S(){var Y=arguments[0],ab=arguments[1],V=arguments[2],aa=ab.find("ul:first"),X=a("<li />");(V<(aa.find("li").length)&&V>=0)?X.insertBefore(aa.find("li").eq(V)):X.appendTo(aa);X.attr({style:"text-align: "+((M.settings.direction=="rtl")?"right":"left")});var W=a("<a />").prop({href:Y.link}).text(Y.name).appendTo(X),Z=a("<i />").prop({"class":((M.settings.direction=="rtl")?"floatLeft ":"floatRight ")+Y.icon}).prependTo(W);if(Y.items){W.bind(I,function(ac){K(ac,ab,X)});l(W);Y.items.level=parseInt(ab.attr("data-level"),10)+1;d(Y.items,X)}else{W.bind(I,function(ac){v(ac,ab,X)})}}function v(X,W,V){M.settings.onItemClick.apply(this,Array.prototype.slice.call([X,W,V,M.settings]));if(M.settings.preventItemClick){t(X)}}function L(Z,W){if(a(M).find("div.levelHolderClass").is(":animated")){return false}var Y=(W.attr("data-level")>0)?W.attr("data-level")-1:undefined;if(Z.type=="touchmove"&&M.settings.swipe!="desktop"){t(Z);Z=(Z.touches)?Z:Z.originalEvent;if(!Z.touches||Z.touches.length<=0){return false}var X=Z.touches[0];M.settings.container.unbind("touchend");M.settings.container.bind("touchend",function(aa){t(aa);W.significance=0;W.swipeStart=0;M.settings.container.unbind("touchend")});if(W.swipeStart!=undefined&&W.swipeStart!=0){W.significance=X.pageX-W.swipeStart}else{W.significance=0;W.swipeStart=X.pageX;return true}if(Math.abs(W.significance)>M.settings.overlapWidth*0.3){if(M.settings.direction=="rtl"){W.significance*=(-1)}(W.significance>0)?r((Y==undefined)?Y:W):C(Y);W.significance=0;W.swipeStart=0}}else{if(M.settings.swipe!="touchscreen"){t(Z);var V=0;W.unbind("mousemove");W.bind("mousemove",function(aa){V=aa.clientX-Z.clientX;if(Math.abs(V)>M.settings.overlapWidth*0.3){W.unbind("mousemove");if(M.settings.direction=="rtl"){V*=(-1)}(V>0)?r((Y==undefined)?Y:W):C(Y);return true}});M.settings.container.unbind("mouseup");M.settings.container.bind("mouseup",function(aa){t(aa);W.unbind("mousemove");M.settings.container.unbind("mouseup")})}}}function h(){var V=M.settings.container.find("#"+M.settings.menuID+" div.levelHolderClass").filter(function(){var W=(M.settings.direction=="rtl")?(parseInt(a(this).css("margin-right"))>=0&&a(this).position().left<M.settings.container.width()-M.settings.overlapWidth):(parseInt(a(this).css("margin-left"))>=0&&a(this).position().left>=0);return W});if(V.length<1){V=false}return V}function m(){var V=M.settings.container.find("#"+M.settings.menuID+" div.levelHolderClass").filter(function(){var W=(M.settings.direction=="rtl")?((a(this).position().left>M.settings.container.width()||parseInt(a(this).css("margin-right"))<0)):((a(this).position().left<0||parseInt(a(this).css("margin-left"))<0));return W});if(V.length<1){V=false}return V}function P(){if(!M.redraw){M.redraw=true;var X=arguments[0],aa=arguments[1],W=arguments[2],Z=(a("#"+M.settings.menuID+" div.levelHolderClass").first().css("filter").match(/DXImageTransform\.Microsoft\.Shadow/))?a("#"+M.settings.menuID+" div.levelHolderClass").first().get(0).filters.item("DXImageTransform.Microsoft.Shadow").strength:0,ak=(X==undefined)?Math.max.apply(null,a("#"+M.settings.menuID+" div.levelHolderClass").map(function(){return a(this).width()}).get())-Z:X-Z,ah=Math.max.apply(null,a("#"+M.settings.menuID+" div.levelHolderClass").map(function(){return a(this).attr("data-level")}).get()),af=(z(M.settings.menuWidth)||(Q(M.settings.menuWidth)&&M.settings.menuWidth>0)),Y=(z(M.settings.menuHeight)||(Q(M.settings.menuHeight)&&M.settings.menuHeight>0)),ac=(W==undefined)?a("#"+M.settings.menuID+" div.levelHolderClass"):W;if(!af&&M.menuWidth!=undefined){ak=M.menuWidth}(af&&X==undefined)?ac.width(M.settings.menuWidth):ac.width(ak);if(af){if((ac.width()==0||(z(M.settings.menuWidth)&&M.settings.menuWidth.indexOf("%")!=-1))&&X==undefined){ac.css("min-width","");ac.width(parseInt(M.settings.container.parent().width()*parseInt(M.settings.menuWidth)/100))}ak=ac.width()-Z;ac.css("min-width",ac.width()-Z+"px")}var ae=(af&&X==undefined)?(ac.width()-Z+ah*(M.settings.overlapWidth+Z)):(ak+ah*(M.settings.overlapWidth+Z)),aj=(aa==undefined)?Math.max.apply(null,a("#"+M.settings.menuID+" div.levelHolderClass").map(function(){return a(this).height()}).get()):aa;M.settings.container.css("min-height","");M.settings.container.children("nav:first").css("min-height","");if(Y){M.settings.container.height(M.settings.menuHeight);M.settings.container.css("min-height",M.settings.menuHeight);M.settings.container.children("nav:first").css("min-height",M.settings.menuHeight);a("#"+M.settings.menuID).height(M.settings.menuHeight);aj=M.settings.container.height()}else{a("#"+M.settings.menuID).height(aj)}M.settings.container.css("min-width","");M.settings.container.css("min-width",ae+"px");M.settings.container.css("min-height",aj+"px");M.settings.container.children("nav:first").css("min-width","");M.settings.container.children("nav:first").css("min-width",ae+"px");M.settings.container.children("nav:first").css("min-height",aj+"px");M.settings.container.width(ae);M.settings.container.height(aj);var ag=a("#"+M.settings.menuID+" div.levelHolderClass:first"),ai=h(),ab=m(),V=H(),ad=(V.length==1)?V.attr("data-level"):0;if(ai){ai.each(function(){if(M.settings.mode=="overlap"){a(this).width(a(this).width()+(parseInt(ad,10)-parseInt(a(this).attr("data-level"),10))*(M.settings.overlapWidth+Z))}})}if(ab){ab.each(function(){(M.settings.direction=="rtl")?a(this).css("margin-right",(a(this).attr("data-level")==ag.attr("data-level")&&!M.settings.fullCollapse)?a(this).width()*(-1)+M.settings.overlapWidth:a(this).width()*(-2)):a(this).css("margin-left",(a(this).attr("data-level")==ag.attr("data-level")&&!M.settings.fullCollapse)?a(this).width()*(-1)+M.settings.overlapWidth:a(this).width()*(-2))})}M.menuWidth=ak;M.menuHeight=aj;M.redraw=false}}function B(){var W=a("#"+M.settings.menuID+" div.levelHolderClass:first"),V=M.settings.container.find("#"+M.settings.menuID+" div.levelHolderClass").filter(function(){var X=(M.settings.direction=="rtl")?((a(this).position().left>M.settings.container.width()||parseInt(a(this).css("margin-right"))<0)&&a(this).attr("data-level")>W.attr("data-level")):((a(this).position().left<0||parseInt(a(this).css("margin-left"))<0)&&a(this).attr("data-level")>W.attr("data-level"));return X});V.each(function(){if(M.settings.direction=="rtl"){a(this).css("margin-right",((a(this).attr("data-level")==W.attr("data-level")&&!M.settings.collapsed)?0:(-2)*a(this).width()))}else{a(this).css("margin-left",((a(this).attr("data-level")==W.attr("data-level")&&!M.settings.collapsed)?0:(-2)*a(this).width()))}});if(M.settings.direction=="rtl"){W.css("margin-right",(!M.settings.collapsed)?0:(-2)*W.width())}else{W.css("margin-left",(!M.settings.collapsed)?0:(-2)*W.width())}}function Q(V){return typeof V==="number"&&parseFloat(V)==parseInt(V,10)&&!isNaN(V)}function z(V){return typeof V==="string"&&(V.indexOf("%")!=-1||V.indexOf("px")!=-1||V.indexOf("em")!=-1)}function i(){var V=(c&&c.menu!=undefined)?U():s();P();B();x(M.settings.collapsed);M.settings.onMenuReady.apply(this,Array.prototype.slice.call([M.settings]));return o}function x(V){if(V){$baseLevelHolder=a("#"+M.settings.menuID+" div.levelHolderClass:first");$baseLevelHolder.find("ul").hide();$baseLevelHolder.addClass(M.settings.menuInactiveClass);if(M.settings.direction=="rtl"){$baseLevelHolder.stop().animate({marginRight:((-1)*$baseLevelHolder.width()+((M.settings.fullCollapse)?0:M.settings.overlapWidth))})}else{$baseLevelHolder.stop().animate({marginLeft:((-1)*$baseLevelHolder.width()+((M.settings.fullCollapse)?0:M.settings.overlapWidth))})}}}function A(V){if(M.settings.containersToPush==null){return false}a.each(M.settings.containersToPush,function(){var X=parseInt(a(this).css("margin-left")),Y=Q(X)?X:0,W=parseInt(a(this).css("margin-right")),Z=Q(W)?W:0;a(this).stop().animate({marginLeft:Y+((M.settings.direction=="rtl")?(-1):1)*V,marginRight:Z+((M.settings.direction=="rtl")?1:(-1))*V})})}function C(){if(a(M).find("div.levelHolderClass").is(":animated")){return false}M.settings.onCollapseMenuStart.apply(this,Array.prototype.slice.call([M.settings]));var W=arguments[0],ae=arguments[1],aa={},X,Y,Z,ah,af,ag=a("#"+M.settings.menuID+" div.levelHolderClass:first"),ad=(W==undefined)?true:false;aa.collapsingEnded=false;if(typeof W=="object"){W=W.attr("data-level")}else{if(typeof W=="string"){var V=N(W);if(V&&V.length==1){W=V.attr("data-level")}else{W=ag.attr("data-level")}}else{if(W==undefined||!Q(W)||W<0){W=ag.attr("data-level")}}}if(ae==undefined&&typeof ae!="object"){ae=[{method:M.settings.onCollapseMenuEnd,args:[M.settings]}]}else{a.merge(ae,[{method:M.settings.onCollapseMenuEnd,args:[M.settings]}])}var ac=M.settings.container.find("#"+M.settings.menuID+" div.levelHolderClass").filter(function(){var ai=(M.settings.direction=="rtl")?(a(this).attr("data-level")>W)&&(parseInt(a(this).css("margin-right"))>=0&&a(this).position().left<M.settings.container.width()-M.settings.overlapWidth):(a(this).attr("data-level")>W)&&(parseInt(a(this).css("margin-left"))>=0&&a(this).position().left>=0);return ai}),ab=M.settings.container.find("#"+M.settings.menuID+" div.levelHolderClass").filter(function(){var ai=(M.settings.direction=="rtl")?(a(this).attr("data-level")<=W)&&(parseInt(a(this).css("margin-right"))>=0&&a(this).position().left<M.settings.container.width()-M.settings.overlapWidth):(a(this).attr("data-level")<=W)&&(parseInt(a(this).css("margin-left"))>=0&&a(this).position().left>=0);return ai});if(ab.length>0){aa.prevAnimEnded=false;ac.each(function(ai,aj){X=(a(aj).css("filter").match(/DXImageTransform\.Microsoft\.Shadow/))?a(aj).get(0).filters.item("DXImageTransform.Microsoft.Shadow").strength:0;Y=(M.settings.mode=="overlap")?a(aj).width()-(ac.length+ab.length-a(aj).attr("data-level")-1)*(M.settings.overlapWidth+X)-X:a(aj).width()-X;if(M.settings.direction=="rtl"){a(aj).stop().animate({marginRight:((-1)*Y),width:Y})}else{a(aj).stop().animate({marginLeft:((-1)*Y),width:Y})}});aa.nextAnimEnded=(ac.length>0)?false:true;ac.last().queue(function(){aa.nextAnimEnded=true;G(aa,ae)});ab.each(function(aj,al){X=(a(al).css("filter").match(/DXImageTransform\.Microsoft\.Shadow/))?a(al).get(0).filters.item("DXImageTransform.Microsoft.Shadow").strength:0;var ai=ab.filter(function(){return a(this).attr("data-level")==W});ai.css("visibility","visible");ai.find("."+M.settings.backItemClass).css("visibility","visible");ai.find("ul").css("visibility","visible");ai.removeClass(M.settings.menuInactiveClass);Y=(M.settings.mode=="overlap")?a(al).width()-ac.length*(M.settings.overlapWidth+X)-X:a(al).width()-X;if(M.settings.direction=="rtl"){a(al).stop().animate({width:Y,marginRight:(a(al).attr("data-level")==ag.attr("data-level")&&ad)?(M.settings.fullCollapse)?(-1)*a(al).width():((-1)*a(al).width()+((M.settings.mode=="overlap")?ac.length+1:1)*M.settings.overlapWidth):0},function(){if(a(al).attr("data-level")==ag.attr("data-level")&&ad){ag.find("ul").hide(500,function(){ag.addClass(M.settings.menuInactiveClass)})}})}else{a(al).stop().animate({width:Y,marginLeft:(a(al).attr("data-level")==ag.attr("data-level")&&ad)?(M.settings.fullCollapse)?(-1)*a(al).width():((-1)*a(al).width()+((M.settings.mode=="overlap")?ac.length+1:1)*M.settings.overlapWidth):0},function(){if(a(al).attr("data-level")==ag.attr("data-level")&&ad){ag.find("ul").hide(500,function(){ag.addClass(M.settings.menuInactiveClass)})}})}Z=(M.settings.mode=="overlap")?((-1)*(ac.length*(M.settings.overlapWidth+X))):0;if(a(al).attr("data-level")==ag.attr("data-level")&&ad){var ak=(M.settings.fullCollapse)?(-1)*(ag.width()-X):(-1)*(ag.width()-X)+M.settings.overlapWidth;A(ak)}else{A(Z)}});ab.last().queue(function(){aa.prevAnimEnded=true;G(aa,ae)})}aa.collapsingEnded=true;G(aa,ae);return o}function u(){if(a(M).find("div.levelHolderClass").is(":animated")){return false}M.settings.onExpandMenuStart.apply(this,Array.prototype.slice.call([M.settings]));var X=arguments[0],ag=arguments[1],W,Y,aa,ae,Z={},ah=a("#"+M.settings.menuID+" div.levelHolderClass:first"),ac=(X==undefined)?true:false,aj=(M.settings.direction=="rtl")?parseInt(ah.css("margin-right"),10)<0||ah.position().left>=M.settings.container.width()-M.settings.overlapWidth:parseInt(ah.css("margin-left"),10)<0||ah.position().left<0;Z.expandingEnded=false;if(ag==undefined&&typeof ag!="object"){ag=[{method:M.settings.onExpandMenuEnd,args:[M.settings]}]}else{a.merge(ag,[{method:M.settings.onExpandMenuEnd,args:[M.settings]}])}if(ac){Z.baseAnimEnded=false;ah.removeClass(M.settings.menuInactiveClass);if(M.settings.direction=="rtl"){ah.stop().animate({marginRight:0},function(){ah.find("ul").show(500).last().queue(function(){Z.baseAnimEnded=true;G(Z,ag)})})}else{ah.stop().animate({marginLeft:0},function(){ah.find("ul").show(500).last().queue(function(){Z.baseAnimEnded=true;G(Z,ag)})})}ae=(M.settings.fullCollapse)?ah.width():ah.width()-M.settings.overlapWidth;var ai=(!g(ah))?A(ae):null}else{if(typeof X=="object"){$selectedLevelHolder=X}else{if(typeof X=="string"){$selectedLevelHolder=N(X)}else{$selectedLevelHolder=null;a.error("Provided menu selector is not valid")}}if($selectedLevelHolder&&$selectedLevelHolder.length==1){var V=H(),af=(V.length==1)?V.attr("data-level"):0,ab=$selectedLevelHolder.width();Z.setToOpenAnimEnded=false;if(setToOpenHolders=p($selectedLevelHolder)){var ad=a(setToOpenHolders).length-1;ah.find("ul").show(0);a(setToOpenHolders).find("ul").css("visibility","hidden");a(setToOpenHolders).find("div").css("visibility","visible");a(setToOpenHolders).find("."+M.settings.backItemClass).css("visibility","hidden");a(setToOpenHolders).each(function(ak,al){W=(a(al).css("filter").match(/DXImageTransform\.Microsoft\.Shadow/))?a(al).get(0).filters.item("DXImageTransform.Microsoft.Shadow").strength:0;Y=ab-W+(ad-a(al).attr("data-level"))*(M.settings.overlapWidth+W);if(M.settings.direction=="rtl"){a(al).stop().animate({marginRight:0,width:(M.settings.mode=="overlap")?Y:ab-W},function(){a(al).addClass(M.settings.menuInactiveClass)})}else{a(al).stop().animate({marginLeft:0,width:(M.settings.mode=="overlap")?Y:ab-W},function(){a(al).addClass(M.settings.menuInactiveClass)})}});a(setToOpenHolders).last().queue(function(){a(this).removeClass(M.settings.menuInactiveClass);Z.setToOpenAnimEnded=true;G(Z,ag)});if(aj){ae=(M.settings.fullCollapse)?ah.width():(ah.width()-M.settings.overlapWidth);A(ae)}if(M.settings.mode=="overlap"){aa=((aj)?(ab+(ad-((M.settings.fullCollapse)?0:1))*(M.settings.overlapWidth+W)):((ad-af)*(M.settings.overlapWidth+W)));A(aa)}$selectedLevelHolder.css("visibility","visible");$selectedLevelHolder.find("."+M.settings.backItemClass).css("visibility","visible");$selectedLevelHolder.find("ul").css("visibility","visible");$selectedLevelHolder.removeClass(M.settings.menuInactiveClass)}else{a.error("Invalid menu object provided")}}else{a.error("No or too many menus named "+X)}}Z.expandingEnded=true;G(Z,ag)}function r(){var aa=arguments[0],X,W=H(),Z,V,Y;if(typeof aa=="object"){X=aa}else{if(typeof aa=="string"){Y=N(aa);if(Y){X=Y.eq(0)}else{a.error(aa+" menu level does not exist!")}}else{X=a("#"+M.settings.menuID+" div.levelHolderClass:first")}}Z=y(X,W,true);V=(Z.length>0)?Math.max.apply(null,Z.map(function(){return a(this).attr("data-level")}).get()):0;if(V<W.attr("data-level")){C(V,[{method:u,args:arguments}])}else{u.apply(this,Array.prototype.slice.call(arguments))}return o}function N(){var V=arguments[0],W,X=M.settings.container.find("#"+M.settings.menuID+" div.levelHolderClass").filter(function(){return((a(this).children("h2").text()==V))});if(X.length>0){returnValue=X;W=returnValue}else{returnValue=false;W=returnValue}return W}function O(){var X=arguments[0],V,W=M.settings.container.find("#"+M.settings.menuID+" div.levelHolderClass li").filter(function(){return((a(this).children("a").text()==X))});if(W.length>0){returnValue=W;V=returnValue}else{returnValue=false;V=returnValue}return V}function p(){var X=arguments[0],Y,W,V;if(X==undefined||X.length!=1){returnValue=false;return returnValue}Y=X.parents("div.levelHolderClass");W=a.merge(Y.get().reverse(),X.get());returnValue=W;return returnValue}function y(){var ae=arguments[0],ac=arguments[1],ab=(arguments[2]!=undefined)?arguments[2]:false,aa,X,Z,Y,af,W,ad,V;if(ae==undefined||ac==undefined){returnValue=false;return returnValue}aa=(ae.length==1)?ae.parents("div.levelHolderClass"):null;X=(ac.length==1)?ac.parents("div.levelHolderClass"):null;Z=(aa!=null)?a.merge(aa.get().reverse(),ae.get()):[];Y=(X!=null)?a.merge(X.get().reverse(),ac.get()):[];af=(Z.length>=Y.length)?Z:Y;W=(af===Z)?Y:Z;ad=a(af).filter(function(){return(ab)?(a.inArray(this,W)!=-1):(a.inArray(this,W)==-1)});returnValue=ad;return returnValue}function H(){var W=M.settings.container.find("#"+M.settings.menuID+" div.levelHolderClass").filter(function(){var X=(M.settings.direction=="rtl")?((parseInt(a(this).css("margin-right"))>=0&&a(this).position().left<M.settings.container.width()-M.settings.overlapWidth)):((parseInt(a(this).css("margin-left"))>=0&&a(this).position().left>=0));return X}),V=Math.max.apply(null,W.map(function(){return a(this).attr("data-level")}).get());$activeLevelHolder=W.filter(function(){return a(this).attr("data-level")==V});returnValue=$activeLevelHolder;return returnValue}function g(){var X=arguments[0],W=false;if(X==undefined){return W}var V=(M.settings.direction=="rtl")?(parseInt(X.css("margin-right"))>=0&&X.position().left<M.settings.container.width()-M.settings.overlapWidth):(parseInt(X.css("margin-left"))>=0&&X.position().left>=0);return V}function D(){var W=arguments[0],Y=arguments[1],V=arguments[2];if(Y==undefined||typeof W!="object"||!Y){return false}if(W.level==undefined){W.level=parseInt(Y.attr("data-level"),10)}if(V==undefined){V=0}var X=Y.find("ul:first");a.each(W,function(){if(this.name!=undefined){S(this,Y,V)}});P(M.menuWidth);return o}function w(){var Y=arguments[0];if(Y==undefined||typeof Y!="object"||Y.length==0){return false}Y.remove();var V=H();if(V.length==1){V.css("visibility","visible");V.find("."+M.settings.backItemClass).css("visibility","visible");V.find("ul").css("visibility","visible");V.removeClass(M.settings.menuInactiveClass);var W=V.width()-M.menuWidth;if(W!=0){var X=h();if(X){X.each(function(){a(this).width(a(this).width()-W)})}}}P(M.menuWidth);return o}function G(V,X){var W=true;a.each(V,function(Y,Z){W=W&&Z});if(W){window.setTimeout(function(){a.each(X,function(Y,Z){Z.method.apply(this,Array.prototype.slice.call(Z.args))})},1)}}function e(){var V=false;if(M.settings[arguments[0]]!=undefined){if(arguments[1]!=undefined){M.settings[arguments[0]]=arguments[1]}V=M.settings[arguments[0]]}else{a.error("No option "+arguments[0]+" found in jQuery.multilevelpushmenu")}return V}function n(){var V=false;(function(W){if(/(android|ipad|playbook|silk|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(W)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(W.substr(0,4))){V=true}})(navigator.userAgent||navigator.vendor||window.opera);return V}if(n()){I="touchend";f="touchmove"}else{I="click";f="mousedown"}if(E[c]){returnValue=E[c].apply(this,Array.prototype.slice.call(b,1));return returnValue}else{if(typeof c==="object"||!c){returnValue=E.init.apply(this,arguments);return returnValue}else{a.error("No "+c+" method found in jQuery.multilevelpushmenu")}}if(!returnValue){returnValue=this}});return returnValue}}(jQuery));