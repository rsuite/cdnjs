{"version":3,"sources":["../src/vnode.js","../src/options.js","../src/h.js","../src/util.js","../src/constants.js","../src/render-queue.js","../src/vdom/index.js","../src/dom/index.js","../src/vdom/diff.js","../src/vdom/component.js","../src/vdom/component-recycler.js","../src/component.js","../src/clone-element.js","../src/render.js","../src/preact.js"],"names":["VNode","options","stack","EMPTY_CHILDREN","nodeName","attributes","lastSimple","child","simple","i","children","arguments","length","push","pop","undefined","String","p","key","vnode","extend","obj","props","defer","Promise","resolve","then","bind","setTimeout","ASYNC_RENDER","ATTR_KEY","component","debounceRendering","rerender","items","enqueueRender","_dirty","hydrating","node","_componentConstructor","normalizedNodeName","toLowerCase","defaultProps","createNode","isSvg","document","setAccessor","name","old","value","className","cssText","style","IS_NON_DIMENSIONAL","test","__html","useCapture","replace","substring","addEventListener","eventProxy","removeEventListener","innerHTML","_listeners","e","setProperty","removeAttribute","ns","setAttribute","this","type","event","isSvgMode","mounts","diffLevel","c","afterMount","diff","dom","context","mountAll","parent","componentRoot","ret","idiff","ownerSVGElement","out","prevSvgMode","parentNode","_component","nodeValue","splitText","recollectNodeTree","vnodeName","flushMounts","oldDom","originalComponent","setComponentProps","isDirectOwner","isOwner","unmountComponent","constructor","base","createComponent","nextBase","createElementNS","createElement","buildComponentFromVNode","replaceChild","appendChild","vchildren","a","fc","isHydrating","j","originalChildren","keyed","keyedLen","childrenLen","vlen","_child","f","__key","vchild","trim","min","nextSibling","removeNode","insertBefore","attrs","innerDiffNode","unmountOnly","removeChildren","next","previousSibling","components","Ctor","inst","render","Component","call","list","splice","state","opts","_disable","__ref","ref","prevContext","componentWillReceiveProps","renderComponent","prevProps","isChild","previousProps","previousState","isUpdate","initialBase","initialChildComponent","previousContext","rendered","shouldComponentUpdate","skip","cbase","componentWillUpdate","prevState","getChildContext","childComponent","childProps","getNodeProps","toUnmount","baseParent","SYNC_RENDER","componentRef","t","unshift","_parentComponent","afterUpdate","_renderCallbacks","inner","componentWillUnmount","$","callback","h","slice","U","module","exports","preact","self"],"mappings":"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","file":"dist/preact.js.map"}