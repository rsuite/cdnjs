!function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)}(function(d){"use strict";d.registerHelper("fold","markdown",function(t,e){var i=100;function o(e){var n=t.getTokenTypeAt(d.Pos(e,0));return n&&/\bheader\b/.test(n)}function n(e,n,t){var r=n&&n.match(/^#+/);return r&&o(e)?r[0].length:(r=t&&t.match(/^[=\-]+\s*$/))&&o(e+1)?"="==t[0]?1:2:i}var r=t.getLine(e.line),f=t.getLine(e.line+1),l=n(e.line,r,f);if(l!==i){for(var c=t.lastLine(),u=e.line,a=t.getLine(u+2);u<c&&!(n(u+1,f,a)<=l);)++u,f=a,a=t.getLine(u+2);return{from:d.Pos(e.line,r.length),to:d.Pos(u,t.getLine(u).length)}}})});