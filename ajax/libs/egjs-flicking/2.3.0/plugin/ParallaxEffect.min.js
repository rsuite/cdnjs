/*!
 * Copyright (c) 2017 NAVER Corp.
 * @egjs/flicking project is licensed under the MIT <https://naver.github.io/egjs/license.txt> license
 * 
 * @egjs/flicking JavaScript library
 * https://github.com/naver/egjs-flicking
 * 
 * @version 2.3.0
 */
!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("@egjs/flicking")):"function"==typeof define&&define.amd?define("ParallaxEffect",["@egjs/flicking"],e):"object"==typeof exports?exports.ParallaxEffect=e(require("@egjs/flicking")):(t.eg=t.eg||{},t.eg.Flicking=t.eg.Flicking||{},t.eg.Flicking.plugin=t.eg.Flicking.plugin||{},t.eg.Flicking.plugin.ParallaxEffect=e(t.eg.Flicking))}(window,function(t){return function(t){var e={};function __webpack_require__(n){if(e[n])return e[n].exports;var i=e[n]={i:n,l:!1,exports:{}};return t[n].call(i.exports,i,i.exports,__webpack_require__),i.l=!0,i.exports}return __webpack_require__.m=t,__webpack_require__.c=e,__webpack_require__.d=function(t,e,n){__webpack_require__.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:n})},__webpack_require__.r=function(t){Object.defineProperty(t,"__esModule",{value:!0})},__webpack_require__.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return __webpack_require__.d(e,"a",e),e},__webpack_require__.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},__webpack_require__.p="",__webpack_require__(__webpack_require__.s=0)}([function(t,e,n){"use strict";e.__esModule=!0;var i,r=n(1),o=(i=r)&&i.__esModule?i:{default:i};var s=function(t){function ParallaxEffect(e){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,ParallaxEffect),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,{selector:e}))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(ParallaxEffect,t),ParallaxEffect.prototype.$componentMount=function(){var t=this;return this.imgs=this.$$.getAllElements().map(function(e){return e.querySelector(t.options.selector)}),this.resize(),this._build(),this},ParallaxEffect.prototype._build=function(){var t=this,e=o.default.utils;e.css(this.getInstanceConf().panel.$list,{overflow:"hidden"}),this.imgs.forEach(function(n,i){var r=-50;0===i?r=50:1===i&&(r=0),t.useWillChange&&e.css(n,{willChange:"transform"}),t._setTranslate(n,r+"%",0)})},ParallaxEffect.prototype._setTranslate=function(t,e,n){return o.default.utils.css(t,{transform:o.default.utils.translate.apply(null,this.$$._getDataByDirection([e,n]).concat(this.useLayerHack))}),t},ParallaxEffect.prototype.arrange=function(t){"resize"!==t&&(this.imgs="next"===t?this.imgs.concat(this.imgs.shift()):[this.imgs.pop()].concat(this.imgs)),this._setTranslate(this.imgs[1],0,0),/next|resize/.test(t)&&this._setTranslate(this.imgs[2],"50%",0),/prev|resize/.test(t)&&this._setTranslate(this.imgs[0],"-50%",0)},ParallaxEffect.prototype.onFlick=function(t,e){var n=this,i=t.pos,r=this.size,o=i%r/2,s=-(r/2-o);if(!(Math.abs(e)>=r)){var a=[];e>0?(a.push({el:this.imgs[1],x:o}),a.push({el:this.imgs[2],x:s})):e<0&&(a.push({el:this.imgs[1],x:s}),a.push({el:this.imgs[0],x:o})),a.forEach(function(t){return n._setTranslate(t.el,t.x+"px",0)})}},ParallaxEffect.prototype.onRestore=function(){this.arrange("resize")},ParallaxEffect.prototype.resize=function(){this.size=this.getInstanceConf().panel.size,this.onRestore("resize")},ParallaxEffect.prototype.get=function(){return this.imgs[1]},ParallaxEffect}(o.default);e.default=s,t.exports=e.default},function(t,e,n){"use strict";e.__esModule=!0;var i,r=n(2),o=(i=r)&&i.__esModule?i:{default:i};var s=o.default.utils,a=s.extend(s.extend({},o.default.consts),{DIRECTION_NONE:o.default.DIRECTION_NONE,DIRECTION_LEFT:o.default.DIRECTION_LEFT,DIRECTION_RIGHT:o.default.DIRECTION_RIGHT,DIRECTION_UP:o.default.DIRECTION_UP,DIRECTION_DOWN:o.default.DIRECTION_DOWN,DIRECTION_HORIZONTAL:o.default.DIRECTION_HORIZONTAL,DIRECTION_VERTICAL:o.default.DIRECTION_VERTICAL,DIRECTION_ALL:o.default.DIRECTION_ALL}),l=function(){function Plugin(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,Plugin),this.options=t}return Plugin.prototype.$componentWillMount=function(t){return this.$$=t,this.useWillChange="transform"===t.$container.style.willChange,this.useLayerHack=this.getInstanceConf().useLayerHack,this.bindEvents(),this.$componentMount(),this.$componentDidMount(),this},Plugin.prototype.$componentDidMount=function(){return this},Plugin.prototype.$componentWillUnmount=function(){var t=this;Object.keys(this).forEach(function(e){t[e]=null})},Plugin.prototype.getInstanceConf=function(){return this.$$._conf},Plugin.prototype.bindEvents=function(){this.$$.on({flick:this._onFlick.bind(this),flickEnd:this._onFlickEnd.bind(this),restore:this._onRestore.bind(this)})},Plugin.prototype._onFlick=function(t){var e=t.pos,n=t.distance||e-this.$$._conf.panel.size;this.onFlick&&this.onFlick(t,n)},Plugin.prototype._onFlickEnd=function(t){var e=(t.direction&a.DIRECTION_LEFT?"next":t.direction&a.DIRECTION_RIGHT&&"prev")||"";e&&this.arrange&&this.arrange(e),this.onFlickEnd&&this.onFlickEnd(t)},Plugin.prototype._onRestore=function(t){this.onRestore&&this.onRestore(t)},Plugin}();l.utils=s,l.consts=a,l.VERSION="2.3.0",e.default=l,t.exports=e.default},function(e,n){e.exports=t}])});
//# sourceMappingURL=ParallaxEffect.min.js.map