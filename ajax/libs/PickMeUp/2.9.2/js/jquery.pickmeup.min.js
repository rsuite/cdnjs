/**
 * @package   PickMeUp - jQuery datepicker plugin
 * @author    Nazar Mokrynskyi <nazar@mokrynskyi.com>
 * @author    Stefan Petre <www.eyecon.ro>
 * @copyright Copyright (c) 2013-2016, Nazar Mokrynskyi
 * @copyright Copyright (c) 2008-2009, Stefan Petre
 * @license   MIT License, see license.txt
 */
(function(e){function u(){for(var e=new Date(this.toString()),m=28,u=e.getMonth();e.getMonth()==u;)++m,e.setDate(m);return m-1}e.addDays=function(e){this.setDate(this.getDate()+e)};e.addMonths=function(e){var m=this.getDate();this.setDate(1);this.setMonth(this.getMonth()+e);this.setDate(Math.min(m,u.apply(this)))};e.addYears=function(e){var m=this.getDate();this.setDate(1);this.setFullYear(this.getFullYear()+e);this.setDate(Math.min(m,u.apply(this)))};e.getDayOfYear=function(){var e=new Date(this.getFullYear(),
this.getMonth(),this.getDate(),0,0,0),m=new Date(this.getFullYear(),0,0,0,0,0);return Math.floor((e-m)/24*36E5)}})(Date.prototype);
(function(e){"function"===typeof define&&define.amd?define(["jquery"],e):"object"===typeof exports?e(require("jquery")):e(jQuery)})(function(e){function u(a,d){a=a.split(" ");for(var c=0;c<a.length;++c)a[c]+=d;return a.join(" ")}function A(){var a=e(this).data("pickmeup-options"),d=this.pickmeup,c=Math.floor(a.calendars/2),f=a.date,l=a.current,k=a.min?new Date(a.min):null,b=a.max?new Date(a.max):null,g,n,p,m,q=(new Date).setHours(0,0,0,0).valueOf(),r,h;k&&(k.setDate(1),k.addMonths(1),k.addDays(-1));
b&&(b.setDate(1),b.addMonths(1),b.addDays(-1));d.find(".pmu-instance > :not(nav)").remove();for(var t=0;t<a.calendars;t++){g=new Date(l);m=d.find(".pmu-instance").eq(t);d.hasClass("pmu-view-years")?(g.addYears(12*(t-c)),n=g.getFullYear()-6+" - "+(g.getFullYear()+5)):d.hasClass("pmu-view-months")?(g.addYears(t-c),n=g.getFullYear()):d.hasClass("pmu-view-days")&&(g.addMonths(t-c),n=v(g,a.title_format,a.locale));if(!h&&b&&(h=new Date(g),a.select_day?h.addMonths(a.calendars-1):a.select_month?h.addYears(a.calendars-
1):h.addYears(12*(a.calendars-1)),h>b)){--t;l.addMonths(-1);h=void 0;continue}h=new Date(g);if(!r&&(r=new Date(g),r.setDate(1),r.addMonths(1),r.addDays(-1),k&&k>r)){--t;l.addMonths(1);r=void 0;continue}m.find(".pmu-month").text(n);p="";var u=function(b){return"range"==a.mode&&b>=(new Date(f[0])).getFullYear()&&b<=(new Date(f[1])).getFullYear()||"multiple"==a.mode&&-1!==f.reduce(function(a,b){a.push((new Date(b)).getFullYear());return a},[]).indexOf(b)||(new Date(f)).getFullYear()==b},y=function(b,
d){var c=(new Date(f[0])).getFullYear(),e=(new Date(f[1])).getFullYear(),l=(new Date(f[0])).getMonth(),g=(new Date(f[1])).getMonth();return"range"==a.mode&&b>c&&b<e||"range"==a.mode&&b==c&&b<e&&d>=l||"range"==a.mode&&b>c&&b==e&&d<=g||"range"==a.mode&&b==c&&b==e&&d>=l&&d<=g||"multiple"==a.mode&&-1!==f.reduce(function(a,b){b=new Date(b);a.push(b.getFullYear()+"-"+b.getMonth());return a},[]).indexOf(b+"-"+d)||(new Date(f)).getFullYear()==b&&(new Date(f)).getMonth()==d};(function(){for(var b=[],d=g.getFullYear()-
6,c=(new Date(a.min)).getFullYear(),f=(new Date(a.max)).getFullYear(),e,l=0;12>l;++l)e={text:d+l,class_name:[]},a.min&&e.text<c||a.max&&e.text>f?e.class_name.push("pmu-disabled"):u(e.text)&&e.class_name.push("pmu-selected"),e.class_name=e.class_name.join(" "),b.push(e);p+=x.body(b,"pmu-years")})();(function(){for(var b=[],d=g.getFullYear(),c=(new Date(a.min)).getFullYear(),e=(new Date(a.min)).getMonth(),f=(new Date(a.max)).getFullYear(),l=(new Date(a.max)).getMonth(),h,k=0;12>k;++k)h={text:a.locale.monthsShort[k],
class_name:[]},a.min&&(d<c||k<e&&d==c)||a.max&&(d>f||k>l&&d>=f)?h.class_name.push("pmu-disabled"):y(d,k)&&h.class_name.push("pmu-selected"),h.class_name=h.class_name.join(" "),b.push(h);p+=x.body(b,"pmu-months")})();(function(){var b=[],d=g.getMonth(),c;g.setDate(1);c=(g.getDay()-a.first_day)%7;g.addDays(-(c+(0>c?7:0)));for(var f=0;42>f;++f){c={text:g.getDate(),class_name:[]};d!=g.getMonth()&&c.class_name.push("pmu-not-in-month");0==g.getDay()?c.class_name.push("pmu-sunday"):6==g.getDay()&&c.class_name.push("pmu-saturday");
var l=a.render(new Date(g))||{},h=g.valueOf(),k=a.min&&a.min>g||a.max&&a.max<g;l.disabled||k?c.class_name.push("pmu-disabled"):(l.selected||a.date==h||-1!==e.inArray(h,a.date)||"range"==a.mode&&h>=a.date[0]&&h<=a.date[1])&&c.class_name.push("pmu-selected");h==q&&c.class_name.push("pmu-today");l.class_name&&c.class_name.push(l.class_name);c.class_name=c.class_name.join(" ");b.push(c);g.addDays(1)}p+=x.body(b,"pmu-days")})();m.append(p)}r.setDate(1);h.setDate(1);h.addMonths(1);h.addDays(-1);d.find(".pmu-prev").css("visibility",
a.min&&a.min>=r?"hidden":"visible");d.find(".pmu-next").css("visibility",a.max&&a.max<=h?"hidden":"visible");a.fill.apply(this)}function m(a,d,c,f){if(a.constructor==Date)return a;if(a.constructor===Number)return new Date(a);if(!a)return new Date;var l=a.split(c);if(1<l.length)return l.forEach(function(a,b,l){l[b]=m(e.trim(a),d,c,f)}),l;l=f.monthsShort.join(")(")+")("+f.months.join(")(");c=new RegExp("[^0-9a-zA-Z("+l+")]+");a=a.split(c);for(var l=d.split(c),k,b,g,n,p,w=new Date,q=0;q<a.length;q++)switch(l[q]){case "b":b=
f.monthsShort.indexOf(a[q]);break;case "B":b=f.months.indexOf(a[q]);break;case "d":case "e":k=parseInt(a[q],10);break;case "m":b=parseInt(a[q],10)-1;break;case "Y":case "y":g=parseInt(a[q],10);g+=100<g?0:29>g?2E3:1900;break;case "H":case "I":case "k":case "l":n=parseInt(a[q],10);break;case "P":case "p":/pm/i.test(a[q])&&12>n?n+=12:/am/i.test(a[q])&&12<=n&&(n-=12);break;case "M":p=parseInt(a[q],10)}k=new Date(void 0===g?w.getFullYear():g,void 0===b?w.getMonth():b,void 0===k?w.getDate():k,void 0===
n?w.getHours():n,void 0===p?w.getMinutes():p,0);isNaN(1*k)&&(k=new Date);return k}function v(a,d,c){var f=a.getMonth(),e=a.getDate(),k=a.getFullYear(),b=a.getDay(),g=a.getHours(),n=12<=g,p=n?g-12:g,m=a.getDayOfYear();0==p&&(p=12);var q=a.getMinutes(),r=a.getSeconds();d=d.split("");for(var h,t=0;t<d.length;t++){h=d[t];switch(h){case "a":h=c.daysShort[b];break;case "A":h=c.days[b];break;case "b":h=c.monthsShort[f];break;case "B":h=c.months[f];break;case "C":h=1+Math.floor(k/100);break;case "d":h=10>
e?"0"+e:e;break;case "e":h=e;break;case "H":h=10>g?"0"+g:g;break;case "I":h=10>p?"0"+p:p;break;case "j":h=100>m?10>m?"00"+m:"0"+m:m;break;case "k":h=g;break;case "l":h=p;break;case "m":h=9>f?"0"+(1+f):1+f;break;case "M":h=10>q?"0"+q:q;break;case "p":case "P":h=n?"PM":"AM";break;case "s":h=Math.floor(a.getTime()/1E3);break;case "S":h=10>r?"0"+r:r;break;case "u":h=b+1;break;case "w":h=b;break;case "y":h=(""+k).substr(2,2);break;case "Y":h=k}d[t]=h}return d.join("")}function B(){var a=e(this),d=a.data("pickmeup-options"),
c=d.current,f;switch(d.mode){case "multiple":f=c.setHours(0,0,0,0).valueOf();-1!==e.inArray(f,d.date)?e.each(d.date,function(a,c){return c==f?(d.date.splice(a,1),!1):!0}):d.date.push(f);break;case "range":d.lastSel||(d.date[0]=c.setHours(0,0,0,0).valueOf());f=c.setHours(0,0,0,0).valueOf();f<=d.date[0]?(d.date[1]=d.date[0],d.date[0]=f):d.date[1]=f;d.lastSel=!d.lastSel;break;default:d.date=c.valueOf()}c=y(d);a.is("input")&&a.val("single"==d.mode?c[0]:c[0].join(d.separator));d.change.apply(this,c);if(!d.flat&&
d.hide_on_select&&("range"!=d.mode||!d.lastSel))return d.binded.hide(),!1}function C(a){a=e(a.target);a.hasClass("pmu-button")||(a=a.closest(".pmu-button"));if(a.length){if(a.hasClass("pmu-disabled"))return!1;var d=e(this).data("pickmeup-options"),c=a.parents(".pmu-instance").eq(0),f=c.parent(),l=e(".pmu-instance",f).index(c);a.parent().is("nav")?a.hasClass("pmu-month")?(d.current.addMonths(l-Math.floor(d.calendars/2)),f.hasClass("pmu-view-years")?(d.current="single"!=d.mode?new Date(d.date[d.date.length-
1]):new Date(d.date),d.select_day?f.removeClass("pmu-view-years").addClass("pmu-view-days"):d.select_month&&f.removeClass("pmu-view-years").addClass("pmu-view-months")):f.hasClass("pmu-view-months")?d.select_year?f.removeClass("pmu-view-months").addClass("pmu-view-years"):d.select_day&&f.removeClass("pmu-view-months").addClass("pmu-view-days"):f.hasClass("pmu-view-days")&&(d.select_month?f.removeClass("pmu-view-days").addClass("pmu-view-months"):d.select_year&&f.removeClass("pmu-view-days").addClass("pmu-view-years"))):
a.hasClass("pmu-prev")?d.binded.prev(!1):d.binded.next(!1):a.hasClass("pmu-disabled")||(f.hasClass("pmu-view-years")?(d.current.setFullYear(parseInt(a.text(),10)),d.select_month?f.removeClass("pmu-view-years").addClass("pmu-view-months"):d.select_day?f.removeClass("pmu-view-years").addClass("pmu-view-days"):d.binded.update_date()):f.hasClass("pmu-view-months")?(d.current.setMonth(c.find(".pmu-months .pmu-button").index(a)),d.current.setFullYear(parseInt(c.find(".pmu-month").text(),10)),d.select_day?
f.removeClass("pmu-view-months").addClass("pmu-view-days"):d.binded.update_date(),d.current.addMonths(Math.floor(d.calendars/2)-l)):(c=parseInt(a.text(),10),d.current.addMonths(l-Math.floor(d.calendars/2)),a.hasClass("pmu-not-in-month")&&d.current.addMonths(15<c?-1:1),d.current.setDate(c),d.binded.update_date()));d.binded.fill()}return!1}function y(a){var d;if("single"==a.mode)return d=new Date(a.date),[v(d,a.format,a.locale),d];d=[[],[]];e.each(a.date,function(c,e){c=new Date(e);d[0].push(v(c,a.format,
a.locale));d[1].push(c)});return d}function z(a){var d=this.pickmeup;if(a||!d.is(":visible")){var c=e(this);a=c.data("pickmeup-options");var f=c.offset(),l=document.documentElement.scrollLeft,k=document.documentElement.scrollTop,b=document.documentElement.clientWidth,g=document.documentElement.clientHeight,n=f.top,p=f.left;a.binded.fill();c.is("input")&&(c.pickmeup("set_date",m(c.val()?c.val():a.default_date,a.format,a.separator,a.locale)).keydown(function(a){9==a.which&&c.pickmeup("hide")}),a.lastSel=
!1);a.before_show();if(0!=a.show()&&!a.flat){switch(a.position){case "top":n-=d.outerHeight();break;case "left":p-=d.outerWidth();break;case "right":p+=this.offsetWidth;break;case "bottom":n+=this.offsetHeight}n+d.offsetHeight>k+g&&(n=f.top-d.offsetHeight);n<k&&(n=f.top+this.offsetHeight+d.offsetHeight);p+d.offsetWidth>l+b&&(p=f.left-d.offsetWidth);p<l&&(p=f.left+this.offsetWidth);d.css({display:"inline-block",top:n+"px",left:p+"px"});e(document).on(u(a.trigger_event,a.events_namespace),a.binded.hide).on("resize"+
a.events_namespace,[!0],a.binded.forced_show)}}}function D(){z.call(this,!0)}function E(a){if(!a||!a.target||a.target!=this&&!(this.pickmeup.get(0).compareDocumentPosition(a.target)&16)){a=this.pickmeup;var d=e(this).data("pickmeup-options");0!=d.hide()&&(a.hide(),e(document).off(u(d.trigger_event,d.events_namespace),d.binded.hide).off("resize",d.binded.forced_show),d.lastSel=!1)}}function F(){var a=e(this).data("pickmeup-options");e(document).off(u(a.trigger_event,a.events_namespace),a.binded.hide).off("resize",
a.binded.forced_show);a.binded.forced_show()}function G(){var a=e(this).data("pickmeup-options");"single"!=a.mode&&(a.date=[],a.lastSel=!1,a.binded.fill())}function H(a){"undefined"==typeof a&&(a=!0);var d=this.pickmeup,c=e(this).data("pickmeup-options");d.hasClass("pmu-view-years")?c.current.addYears(-12):d.hasClass("pmu-view-months")?c.current.addYears(-1):d.hasClass("pmu-view-days")&&c.current.addMonths(-1);a&&c.binded.fill()}function I(a){"undefined"==typeof a&&(a=!0);var d=this.pickmeup,c=e(this).data("pickmeup-options");
d.hasClass("pmu-view-years")?c.current.addYears(12):d.hasClass("pmu-view-months")?c.current.addYears(1):d.hasClass("pmu-view-days")&&c.current.addMonths(1);a&&c.binded.fill()}function J(a){var d=e(this).data("pickmeup-options"),c=y(d);return"string"===typeof a?(c=c[1],c.constructor==Date?v(c,a,d.locale):c.map(function(c){return v(c,a,d.locale)})):c[a?0:1]}function K(a){var d=e(this),c=d.data("pickmeup-options");c.date=a;"string"===typeof c.date?c.date=m(c.date,c.format,c.separator,c.locale).setHours(0,
0,0,0):c.date.constructor==Date&&c.date.setHours(0,0,0,0);c.date||(c.date=new Date,c.date.setHours(0,0,0,0));if("single"!=c.mode)if(c.date.constructor!=Array)c.date=[c.date.valueOf()],"range"==c.mode&&c.date.push((new Date(c.date[0])).setHours(0,0,0,0).valueOf());else{for(a=0;a<c.date.length;a++)c.date[a]=m(c.date[a],c.format,c.separator,c.locale).setHours(0,0,0,0).valueOf();"range"==c.mode&&(c.date[1]=(new Date(c.date[1])).setHours(0,0,0,0).valueOf())}else if(d.val()||!1!==c.default_date)c.date=
c.date.constructor==Array?c.date[0].valueOf():c.date.valueOf();c.current=new Date("single"!=c.mode?c.date[0]:c.date);c.binded.fill();d.is("input")&&!1!==c.default_date&&(a=y(c),d.val()||c.change.apply(this,a),d.val("single"==c.mode?a[0]:a[0].join(c.separator)))}function L(){var a=e(this),d=a.data("pickmeup-options");a.removeData("pickmeup-options");a.off(d.events_namespace);e(document).off(d.events_namespace);e(this.pickmeup).remove()}var M=0;e.pickmeup=e.extend(e.pickmeup||{},{date:new Date,default_date:new Date,
flat:!1,first_day:1,prev:"&#9664;",next:"&#9654;",mode:"single",select_year:!0,select_month:!0,select_day:!0,view:"days",calendars:1,format:"d-m-Y",title_format:"B, Y",position:"bottom",trigger_event:"click touchstart",class_name:"",separator:" - ",hide_on_select:!1,min:null,max:null,render:function(){},change:function(){return!0},before_show:function(){return!0},show:function(){return!0},hide:function(){return!0},fill:function(){return!0},locale:{days:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday Sunday".split(" "),
daysShort:"Sun Mon Tue Wed Thu Fri Sat Sun".split(" "),daysMin:"Su Mo Tu We Th Fr Sa Su".split(" "),months:"January February March April May June July August September October November December".split(" "),monthsShort:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" ")}});var N={years:"pmu-view-years",months:"pmu-view-months",days:"pmu-view-days"},x={wrapper:'<div class="pickmeup" />',head:function(a){for(var d="",c=0;7>c;++c)d+="<div>"+a.day[c]+"</div>";return'<div class="pmu-instance"><nav><div class="pmu-prev pmu-button">'+
a.prev+'</div><div class="pmu-month pmu-button" /><div class="pmu-next pmu-button">'+a.next+'</div></nav><nav class="pmu-day-of-week">'+d+"</nav></div>"},body:function(a,d){for(var c="",e=0;e<a.length;++e)c+='<div class="'+a[e].class_name+' pmu-button">'+a[e].text+"</div>";return'<div class="'+d+'">'+c+"</div>"}};e.fn.pickmeup=function(a){if("string"===typeof a){var d,c=Array.prototype.slice.call(arguments,1);switch(a){case "hide":case "show":case "clear":case "update":case "prev":case "next":case "destroy":this.each(function(){if(d=
e(this).data("pickmeup-options"))d.binded[a]()});break;case "get_date":return(d=this.data("pickmeup-options"))?d.binded.get_date(c[0]):null;case "set_date":this.each(function(){(d=e(this).data("pickmeup-options"))&&d.binded[a].apply(this,c)})}return this}return this.each(function(){var d=e(this);if(!d.data("pickmeup-options")){var c,k,b=e.extend(!0,{},e.pickmeup,a||{});for(c in b)k=d.data("pmu-"+c),"undefined"!==typeof k&&(b[c]=k);"days"!=b.view||b.select_day||(b.view="months");"months"!=b.view||
b.select_month||(b.view="years");"years"!=b.view||b.select_year||(b.view="days");"days"!=b.view||b.select_day||(b.view="months");b.calendars=Math.max(1,parseInt(b.calendars,10)||1);b.mode=/single|multiple|range/.test(b.mode)?b.mode:"single";"string"===typeof b.min?b.min=m(b.min,b.format,b.separator,b.locale).setHours(0,0,0,0):b.min&&b.min.constructor==Date&&b.min.setHours(0,0,0,0);"string"===typeof b.max?b.max=m(b.max,b.format,b.separator,b.locale).setHours(0,0,0,0):b.max&&b.max.constructor==Date&&
b.max.setHours(0,0,0,0);b.select_day||(b.min&&(b.min=new Date(b.min),b.min.setDate(1),b.min=b.min.valueOf()),b.max&&(b.max=new Date(b.max),b.max.setDate(1),b.max=b.max.valueOf()));"string"===typeof b.date?b.date=m(b.date,b.format,b.separator,b.locale).setHours(0,0,0,0):b.date.constructor==Date&&b.date.setHours(0,0,0,0);b.date||(b.date=new Date,b.date.setHours(0,0,0,0));if("single"!=b.mode){if(b.date.constructor!=Array)b.date=[b.date.valueOf()],"range"==b.mode&&b.date.push((new Date(b.date[0])).setHours(0,
0,0,0).valueOf());else{for(c=0;c<b.date.length;c++)b.date[c]=m(b.date[c],b.format,b.separator,b.locale).setHours(0,0,0,0).valueOf();"range"==b.mode&&(b.date[1]=(new Date(b.date[1])).setHours(0,0,0,0).valueOf())}b.current=new Date(b.date[b.date.length-1]);if(!b.select_day)for(c=0;c<b.date.length;++c)b.date[c]=new Date(b.date[c]),b.date[c].setDate(1),b.date[c]=b.date[c].valueOf(),"range"!=b.mode&&b.date.indexOf(b.date[c])!==c&&(b.date.splice(c,1),--c)}else b.date=b.date.valueOf(),b.current=new Date(b.date),
b.select_day||(b.date=new Date(b.date),b.date.setDate(1),b.date=b.date.valueOf());b.current.setDate(1);b.current.setHours(0,0,0,0);var g=e(x.wrapper);this.pickmeup=g;b.class_name&&g.addClass(b.class_name);var n="";for(c=0;c<b.calendars;c++)k=b.first_day,n+=x.head({prev:b.prev,next:b.next,day:[b.locale.daysMin[k++%7],b.locale.daysMin[k++%7],b.locale.daysMin[k++%7],b.locale.daysMin[k++%7],b.locale.daysMin[k++%7],b.locale.daysMin[k++%7],b.locale.daysMin[k++%7]]});d.data("pickmeup-options",b);for(c in b)-1!=
["render","change","before_show","show","hide"].indexOf(c)&&(b[c]=b[c].bind(this));b.binded={fill:A.bind(this),update_date:B.bind(this),click:C.bind(this),show:z.bind(this),forced_show:D.bind(this),hide:E.bind(this),update:F.bind(this),clear:G.bind(this),prev:H.bind(this),next:I.bind(this),get_date:J.bind(this),set_date:K.bind(this),destroy:L.bind(this)};b.events_namespace=".pickmeup-"+ ++M;g.on(u(b.trigger_event,b.events_namespace),b.binded.click).addClass(N[b.view]).append(n).on(e.support.selectstart?
"selectstart":"mousedown",function(a){a.preventDefault()});b.binded.fill();b.flat?g.appendTo(this).css({position:"relative",display:"inline-block"}):(g.appendTo(document.body),d.on(u(b.trigger_event,b.events_namespace),b.binded.show))}})}});
